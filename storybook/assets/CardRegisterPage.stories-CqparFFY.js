import{u as I,j as c}from"./styled-components.browser.esm-D-tNovVo.js";import{I as T}from"./Input-B7v42UpU.js";import{I as L}from"./InputField-CkMC-4y9.js";import{r as l,a as le}from"./index-CsdIBAqE.js";import{C as ue,P as ce}from"./card-CBUKYh21.js";import{a as v,C as de}from"./CardPreview-B_QCbqRg.js";import{D as he}from"./Dropdown-CJ8kir_Y.js";import{D as me}from"./DropdownField-CtnFmETs.js";const pe=I.div`
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 60px;
  height: 100vh;
`,fe=I.section`
  margin-top: 50px;
  overflow: auto;
  height: calc(100vh - 310px);
`;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}var y;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(y||(y={}));function ge(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:r,v5Compat:n=!1}=e,a;a=t.map((h,g)=>i(h,typeof h=="string"?null:h.state,g===0?"default":void 0));let o=m(r??a.length-1),s=y.Pop,u=null;function m(h){return Math.min(Math.max(h,0),a.length-1)}function p(){return a[o]}function i(h,g,C){g===void 0&&(g=null);let x=Ee(a?p().pathname:"/",h,g,C);return ve(x.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(h)),x}function d(h){return typeof h=="string"?h:xe(h)}return{get index(){return o},get action(){return s},get location(){return p()},createHref:d,createURL(h){return new URL(d(h),"http://localhost")},encodeLocation(h){let g=typeof h=="string"?b(h):h;return{pathname:g.pathname||"",search:g.search||"",hash:g.hash||""}},push(h,g){s=y.Push;let C=i(h,g);o+=1,a.splice(o,a.length,C),n&&u&&u({action:s,location:C,delta:1})},replace(h,g){s=y.Replace;let C=i(h,g);a[o]=C,n&&u&&u({action:s,location:C,delta:0})},go(h){s=y.Pop;let g=m(o+h),C=a[g];o=g,u&&u({action:s,location:C,delta:h})},listen(h){return u=h,()=>{u=null}}}}function E(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ve(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ce(){return Math.random().toString(36).substr(2,8)}function Ee(e,t,r,n){return r===void 0&&(r=null),w({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?b(t):t,{state:r,key:t&&t.key||n||Ce()})}function xe(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function b(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var A;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A||(A={}));function ye(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Ne(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?b(e):e;return{pathname:r?r.startsWith("/")?r:Ie(r,t):t,search:be(n),hash:Se(a)}}function Ie(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function j(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Te(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Me(e,t){let r=Te(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Re(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=b(e):(a=w({},e),E(!a.pathname||!a.pathname.includes("?"),j("?","pathname","search",a)),E(!a.pathname||!a.pathname.includes("#"),j("#","pathname","hash",a)),E(!a.search||!a.search.includes("#"),j("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,u;if(s==null)u=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;a.pathname=f.join("/")}u=d>=0?t[d]:"/"}let m=Ne(a,u),p=s&&s!=="/"&&s.endsWith("/"),i=(o||s===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||i)&&(m.pathname+="/"),m}const Le=e=>e.join("/").replace(/\/\/+/g,"/"),be=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Se=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,X=["post","put","patch","delete"];new Set(X);const Ve=["get",...X];new Set(Ve);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}const $=l.createContext(null),B=l.createContext(null),P=l.createContext(null),F=l.createContext({outlet:null,matches:[],isDataRoute:!1});function D(){return l.useContext(P)!=null}function we(){return D()||E(!1),l.useContext(P).location}function Y(e){l.useContext(B).static||l.useLayoutEffect(e)}function _e(){let{isDataRoute:e}=l.useContext(F);return e?De():je()}function je(){D()||E(!1);let e=l.useContext($),{basename:t,future:r,navigator:n}=l.useContext(B),{matches:a}=l.useContext(F),{pathname:o}=we(),s=JSON.stringify(Me(a,r.v7_relativeSplatPath)),u=l.useRef(!1);return Y(()=>{u.current=!0}),l.useCallback(function(p,i){if(i===void 0&&(i={}),!u.current)return;if(typeof p=="number"){n.go(p);return}let d=Re(p,JSON.parse(s),o,i.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Le([t,d.pathname])),(i.replace?n.replace:n.push)(d,i.state,i)},[t,n,s,o,e])}var J=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(J||{}),z=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(z||{});function Be(e){let t=l.useContext($);return t||E(!1),t}function Pe(e){let t=l.useContext(F);return t||E(!1),t}function Fe(e){let t=Pe(),r=t.matches[t.matches.length-1];return r.route.id||E(!1),r.route.id}function De(){let{router:e}=Be(J.UseNavigateStable),t=Fe(z.UseNavigateStable),r=l.useRef(!1);return Y(()=>{r.current=!0}),l.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_({fromRouteId:t},o)))},[e,t])}const Oe="startTransition",H=le[Oe];function Ae(e){let{basename:t,children:r,initialEntries:n,initialIndex:a,future:o}=e,s=l.useRef();s.current==null&&(s.current=ge({initialEntries:n,initialIndex:a,v5Compat:!0}));let u=s.current,[m,p]=l.useState({action:u.action,location:u.location}),{v7_startTransition:i}=o||{},d=l.useCallback(f=>{i&&H?H(()=>p(f)):p(f)},[p,i]);return l.useLayoutEffect(()=>u.listen(d),[u,d]),l.createElement(He,{basename:t,children:r,location:m.location,navigationType:m.action,navigator:u,future:o})}function He(e){let{basename:t="/",children:r=null,location:n,navigationType:a=y.Pop,navigator:o,static:s=!1,future:u}=e;D()&&E(!1);let m=t.replace(/^\/*/,"/"),p=l.useMemo(()=>({basename:m,navigator:o,static:s,future:_({v7_relativeSplatPath:!1},u)}),[m,u,o,s]);typeof n=="string"&&(n=b(n));let{pathname:i="/",search:d="",hash:f="",state:h=null,key:g="default"}=n,C=l.useMemo(()=>{let x=ye(i,m);return x==null?null:{location:{pathname:x,search:d,hash:f,state:h,key:g},navigationType:a}},[m,i,d,f,h,g,a]);return C==null?null:l.createElement(B.Provider,{value:p},l.createElement(P.Provider,{children:r,value:C}))}new Promise(()=>{});const qe=480,R=I.div`
  height: 44px;
`,N=I.p`
  color: red;
  font-size: 12px;
  margin-top: 8px;
`;I.div`
  width: ${qe}px;
  height: 100vh;
  margin: 0 auto;
`;const k=({value:e,handleChange:t,handleBlur:r,handleKeyDown:n,errorInfo:a})=>c.jsxs("div",{children:[c.jsx(L,{title:"카드 소유자 이름 입력을 입력해 주세요",labelText:"소유자 이름",labelFor:"cardholder-name-input",children:c.jsx(T,{id:"cardholder-name-input",isError:a.isError,value:e,onChange:t,onBlur:r,onKeyDown:n,placeholder:"JOHN DOE",width:"100%",maxLength:100,autoFocus:!0})}),c.jsx(R,{children:c.jsx(N,{children:a.errorMessage})})]});k.__docgenInfo={description:"",methods:[],displayName:"CardholderNameContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},handleKeyDown:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.KeyboardEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},handleBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"ErrorDetail"},description:""}}};const Z=({month:e,year:t})=>c.jsxs("div",{children:[c.jsxs(L,{title:"카드 유효기간을 입력해 주세요",subtitle:"월/년도(MMYY)를 순서대로 입력해 주세요.",labelText:"유효기간",labelFor:"card-expiry-month-input",children:[c.jsx(T,{id:"card-expiry-month-input",isError:e.errorInfo.isError,value:e.value,onChange:e.handleChange,onBlur:e.updateErrorMessage,placeholder:"MM",maxLength:2,width:"48%",autoFocus:!0,ref:e.inputRef}),c.jsx(T,{id:"card-expiry-year-input",isError:t.errorInfo.isError,value:t.value,onChange:t.handleChange,onBlur:t.updateErrorMessage,placeholder:"YY",maxLength:2,width:"48%",ref:t.inputRef})]}),c.jsxs(R,{children:[c.jsx(N,{children:e.errorInfo.errorMessage}),c.jsx(N,{children:t.errorInfo.errorMessage})]})]});Z.__docgenInfo={description:"",methods:[],displayName:"CardExpiryDateContainer",props:{month:{required:!0,tsType:{name:"ExpiryDateInfo"},description:""},year:{required:!0,tsType:{name:"ExpiryDateInfo"},description:""}}};function Q({cardNumbers:e,handleChange:t,errorInfo:r,handleBlur:n,inputRefs:a}){const o=l.useMemo(()=>{const u=Object.values(r).find(m=>m.isError);return u?u.errorMessage:""},[r]);return c.jsxs(Ue,{children:[c.jsx(L,{title:"결제할 카드 번호를 입력해 주세요",subtitle:"본인 명의의 카드만 결제 가능합니다.",labelText:"카드 번호",labelFor:"first-card-numbers-input",children:ue.map((s,u)=>{const m=ce.includes(s)?"password":"text";return c.jsx(T,{id:`${s}-card-numbers-input`,isError:r[s].isError,value:e[s],onChange:p=>t(p,s),onBlur:()=>n(s),placeholder:"1234",maxLength:4,type:m,width:"23%",ref:a[s],autoFocus:u===0&&!0},s)})}),c.jsx(R,{children:c.jsx(N,{children:o})})]})}const Ue=I.div`
  margin-bottom: 80px;
`;Q.__docgenInfo={description:"",methods:[],displayName:"CardNumberContainer",props:{cardNumbers:{required:!0,tsType:{name:"Record",elements:[{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},{name:"string"}],raw:"Record<CardNumberKey, string>"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>, name: string) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"},{type:{name:"string"},name:"name"}],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"Record",elements:[{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},{name:"ErrorDetail"}],raw:"Record<CardNumberKey, ErrorDetail>"},description:""},handleBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"(targetKey: CardNumberKey) => void",signature:{arguments:[{type:{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},name:"targetKey"}],return:{name:"void"}}},description:""},inputRefs:{required:!0,tsType:{name:"Record",elements:[{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},{name:"ReactRefObject",raw:"React.RefObject<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]}],raw:"Record<CardNumberKey, React.RefObject<HTMLInputElement>>"},description:""}}};const ee=({value:e,handleChange:t,errorInfo:r})=>c.jsxs("div",{children:[c.jsx(me,{title:"카드사를 선택해 주세요",subtitle:"현재 국내 카드사만 가능합니다.",children:c.jsx(he,{value:e,handleChange:t})}),c.jsx(R,{children:r&&c.jsx(N,{children:r.errorMessage})})]});ee.__docgenInfo={description:"",methods:[],displayName:"CardCompanyContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLLIElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLLIElement>",elements:[{name:"HTMLLIElement"}]},name:"e"}],return:{name:"void"}}},description:""},errorInfo:{required:!1,tsType:{name:"ErrorDetail"},description:""}}};const te=({value:e,handleChange:t,handleBlur:r,errorInfo:n,setIsCardFront:a})=>c.jsxs("div",{children:[c.jsx(L,{title:"CVC 번호를 입력해 주세요",labelText:"CVC",labelFor:"cvc-input",children:c.jsx(T,{id:"cvc-input",isError:n.isError,value:e,onChange:t,onBlur:r,onFocus:()=>a(!1),placeholder:"123",width:"100%",maxLength:4,autoFocus:!0})}),c.jsx(R,{children:c.jsx(N,{children:n.errorMessage})})]});te.__docgenInfo={description:"",methods:[],displayName:"CardCVCContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},handleBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"ErrorDetail"},description:""},setIsCardFront:{required:!0,tsType:{name:"ReactDispatch",raw:"React.Dispatch<React.SetStateAction<boolean>>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<boolean>",elements:[{name:"boolean"}]}]},description:""}}};const re=({value:e,handleChange:t,updateErrorMessage:r,errorInfo:n})=>c.jsxs("div",{children:[c.jsx(L,{title:"비밀번호를 입력해 주세요",subtitle:"앞의 2자리를 입력해주세요",labelText:"비밀번호 앞 2자리",labelFor:"card-password-input",children:c.jsx(T,{id:"card-password-input",isError:n.isError,value:e,onChange:t,onBlur:r,width:"100%",maxLength:2,type:"password",placeholder:"••",autoFocus:!0})}),c.jsx(R,{children:c.jsx(N,{children:n.errorMessage})})]});re.__docgenInfo={description:"",methods:[],displayName:"CardPasswordContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},updateErrorMessage:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"ErrorDetail"},description:""}}};const ne=({onClick:e,children:t})=>c.jsx(Ge,{onClick:e,children:t}),Ge=I.button`
  position: absolute;
  width: 100%;
  height: 52px;
  background-color: #333333;
  color: #f3f3f3;
  font-weight: 700;
  font-size: 16px;
  bottom: 0;
  transition: background-color 0.2s ease-in;

  &:hover {
    background-color: lightgray;
  }
`;ne.__docgenInfo={description:"",methods:[],displayName:"SubmitButton",props:{onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const ae={isError:!1,errorMessage:""},Ke=(e,t)=>{const[r,n]=l.useState(ae);return{errorInfo:r,setErrorInfo:n,updateErrorMessage:()=>{const o=t.onBlur(e);return n({...o}),o}}},S=(e="",t)=>{const[r,n]=l.useState(e),{errorInfo:a,setErrorInfo:o,updateErrorMessage:s}=Ke(r,t),u=l.useRef(null),m=i=>{var f,h;const d=t.onChange(i.target.value);if(i.target.value.length===i.target.maxLength&&!d.isError){if(p(i.target.value).isError)return;(f=u.current)!=null&&f.nextSibling&&((h=u.current)==null?void 0:h.nextSibling).focus()}o({...d}),!d.isError&&n(i.target.value)},p=i=>{const d=t.onBlur(i);return o({...d}),n(i),d};return{value:r,setValue:n,handleChange:m,errorInfo:a,setErrorInfo:o,updateErrorMessage:s,inputRef:u}},We=e=>{const t=e.length===v.TEXT_LENGTH_MIN||e.length===v.DATE_LENGTH_MAX,r=/^(0[1-9]|1[0-2])$/.test(e);return t?r?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"월(月) : 01월부터 12월 중 하나로 입력해주세요"}:{isError:!0,errorMessage:"월(月) : 2자리로 입력해주세요"}},M=e=>isNaN(Number(e))?{isError:!0,errorMessage:"숫자를 입력해주세요"}:{isError:!1,errorMessage:""},Xe=()=>{const{value:e,handleChange:t,errorInfo:r,updateErrorMessage:n,inputRef:a}=S("",{onChange:M,onBlur:We});return{value:e,handleChange:t,errorInfo:r,updateErrorMessage:n,inputRef:a}},$e=e=>{const t=e.length===v.TEXT_LENGTH_MIN||e.length===v.DATE_LENGTH_MAX,r=Number(e)>23&&Number(e)<41;return t?r?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"년도(年) : 24년도부터 40년도 중 하나로 입력해주세요"}:{isError:!0,errorMessage:"년도(年) : 2자리로 입력해주세요"}},Ye=()=>{const{value:e,handleChange:t,errorInfo:r,updateErrorMessage:n,inputRef:a}=S("",{onChange:M,onBlur:$e});return{value:e,handleChange:t,errorInfo:r,updateErrorMessage:n,inputRef:a}},q=e=>/^$|^[a-zA-Z ]+$/.test(e)?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"카드 소유자 이름을 영어로만 입력해주세요"},Je=e=>/^(?!\s)(?!.*\s\s)(?!.*\s$)/.test(e)?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"양 끝에 공백이 포함되면 안 되며, 사이 공백의 길이는 최대 1입니다."},ze=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=S("",{onChange:q,onBlur:Je}),[o,s]=l.useState(!1);return{value:e,handleChange:i=>{const d=q(i.target.value);n({...d}),!d.isError&&t(i.target.value.toUpperCase())},errorInfo:r,handleBlur:()=>{a().isError||s(!0)},isEnter:o,handleKeyDown:i=>{if(i.key==="Enter"){if(a().isError)return;s(!0)}}}},ke=e=>{const[t,r]=l.useState(e);return{value:t,handleChange:a=>{const o=a.target;if(!o.dataset.value)return;const s=o.dataset.value;r(s)}}},Ze=e=>e.length===v.TEXT_LENGTH_MIN||e.length===v.CVC_LENGTH_MIN||e.length===v.CVC_LENGTH_MAX?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"cvc는 3자리 또는 4자리로 입력해주세요"},Qe=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=S("",{onChange:M,onBlur:Ze}),[o,s]=l.useState(!0);return{value:e,handleChange:p=>{const i=M(p.target.value);n({...i}),!i.isError&&t(p.target.value)},errorInfo:r,handleBlur:()=>{a(),s(!0)},isCardFront:o,setIsCardFront:s}},et=e=>{const t=e.length===v.TEXT_LENGTH_MIN||e.length===v.CARD_NUMBER_LENGTH_MAX,r=/^\d{4}$/.test(e);return t?r?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"카드 번호는 0000 ~ 9999 사이의 숫자로 입력해주세요"}:{isError:!0,errorMessage:"카드 번호는 4자리로 입력해주세요"}},tt=(e,t)=>{const r={};return e.forEach(n=>{r[n]=t}),r},U={first:"second",second:"third",third:"fourth"},rt=(e,t)=>{const r=tt(Object.keys(e),ae),[n,a]=l.useState(e),[o,s]=l.useState(r),u={first:l.useRef(null),second:l.useRef(null),third:l.useRef(null),fourth:l.useRef(null)};return{value:n,setValue:a,handleChange:(i,d)=>{var h;const f=t.onChange(i.target.value);if(i.target.value.length===i.target.maxLength&&!f.isError){const g=d;U[g]&&((h=u[U[g]].current)==null||h.focus())}s({...o,[d]:{...f}}),!f.isError&&a({...n,[d]:i.target.value})},handleBlur:i=>{if(t){const d=t.onBlur(n[i]);s({...o,[i]:{...d}})}},errorInfo:o,inputRefs:u}},nt={first:"",second:"",third:"",fourth:""},at=()=>rt(nt,{onChange:M,onBlur:et}),st=e=>e.length===v.TEXT_LENGTH_MIN||e.length===v.PASSWORD_LENGTH_MAX?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"비밀번호는 2자리로 입력해주세요"},ot=()=>S("",{onChange:M,onBlur:st}),it=()=>{const e=at(),t=Xe(),r=Ye(),n=ze(),a=ke(""),o=ot(),s=Qe();return{cardNumberInfo:e,cardCompanyInfo:a,expiryDateInfo:{month:t,year:r},cardholderNameInfo:n,cardCVCInfo:s,cardPasswordInfo:o}},lt=e=>{const{first:t,second:r,third:n,fourth:a}=e.errorInfo,{first:o,second:s,third:u,fourth:m}=e.value,p=!!o&&!t.isError,i=!!s&&!r.isError,d=!!u&&!n.isError,f=!!m&&!a.isError;return o.length+s.length+u.length+m.length===v.TOTAL_CARD_NUMBER_LENGTH&&p&&i&&d&&f},ut=e=>e.value.length>v.TEXT_LENGTH_MIN,ct=e=>{const{month:t,year:r}=e,n=!!t.value&&!t.errorInfo.isError,a=!!r.value&&!r.errorInfo.isError;return t.value.length+r.value.length===v.TOTAL_DATE_LENGTH&&n&&a},dt=e=>e.isEnter&&!!e.value,ht=e=>{const t=!!e.value&&!e.errorInfo.isError;return e.value.length>=v.CVC_LENGTH_MIN&&t},mt=e=>{const t=!!e.value&&!e.errorInfo.isError;return e.value.length===v.PASSWORD_LENGTH_MAX&&t},pt=e=>{const t=lt(e),[r,n]=l.useState({isValid:t,isOpen:!1});return l.useEffect(()=>{n(a=>({...a,isValid:t})),t&&n(a=>({...a,isOpen:!0}))},[t]),r},ft=e=>{const t=ut(e),[r,n]=l.useState({isValid:t,isOpen:!1});return l.useEffect(()=>{n(a=>({...a,isValid:t})),t&&n(a=>({...a,isOpen:!0}))},[t]),r},gt=e=>{const t=dt(e),[r,n]=l.useState({isValid:t,isOpen:!1});return l.useEffect(()=>{n(a=>({...a,isValid:t})),t&&n(a=>({...a,isOpen:!0}))},[t]),r},vt=e=>{const t=ct(e),[r,n]=l.useState({isValid:t,isOpen:!1});return l.useEffect(()=>{n(a=>({...a,isValid:t})),t&&n(a=>({...a,isOpen:!0}))},[t]),r},Ct=e=>{const t=ht(e),[r,n]=l.useState({isValid:t,isOpen:!1});return l.useEffect(()=>{n(a=>({...a,isValid:t})),t&&n(a=>({...a,isOpen:!0}))},[t]),r},Et=e=>{const t=mt(e),[r,n]=l.useState({isValid:t,isOpen:!1});return l.useEffect(()=>{n(a=>({...a,isValid:t})),t&&n(a=>({...a,isOpen:!0}))},[t]),r},xt=({cardNumberInfo:e,cardCompanyInfo:t,expiryDateInfo:r,cardholderNameInfo:n,cardCVCInfo:a,cardPasswordInfo:o})=>{const s=pt(e),u=ft(t),m=vt(r),p=gt(n),i=Ct(a),d=Et(o),f={cardNumber:s,cardCompany:u,expiryDate:m,cardholderName:p,cvc:i,password:d},h=s.isValid&&u.isValid&&m.isValid&&p.isValid&&i.isValid&&d.isValid;return{validationStatus:f,isCardFormValid:h}},se=()=>{const e=_e(),t=()=>{e("/register",{state:{cardNumber:s.value.first,cardCompany:u.value}})},r=it(),{validationStatus:n,isCardFormValid:a}=xt(r),{...o}=n,{cardNumberInfo:s,cardCompanyInfo:u,expiryDateInfo:m,cardholderNameInfo:p,cardCVCInfo:i,cardPasswordInfo:d}=r,f=O=>o[O].isValid||o[O].isOpen,h=f("cvc"),g=f("cardholderName"),C=f("expiryDate"),x=f("cardCompany"),oe=f("cardNumber"),ie={cardNumbers:s.value,expiryDate:{month:m.month.value,year:m.year.value},cardholderName:p.value,cardType:u.value,cvc:i.value,isCardFront:i.isCardFront,setIsCardFront:i.setIsCardFront};return c.jsxs(pe,{children:[c.jsx(de,{...ie}),c.jsxs(fe,{children:[h&&c.jsx(re,{...d}),g&&c.jsx(te,{...i}),C&&c.jsx(k,{...p}),x&&c.jsx(Z,{...m}),oe&&c.jsx(ee,{...u}),c.jsx(Q,{cardNumbers:s.value,...s})]}),a&&c.jsx(ne,{onClick:t,children:"확인"})]})};se.__docgenInfo={description:"",methods:[],displayName:"CardRegisterPage"};const St={title:"CardRegisterPage",component:se,decorators:[e=>c.jsx(Ae,{children:c.jsx(e,{})})]},V={};var G,K,W;V.parameters={...V.parameters,docs:{...(G=V.parameters)==null?void 0:G.docs,source:{originalSource:"{}",...(W=(K=V.parameters)==null?void 0:K.docs)==null?void 0:W.source}}};const Vt=["Default"];export{V as Default,Vt as __namedExportsOrder,St as default};
