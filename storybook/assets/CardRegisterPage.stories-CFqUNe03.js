import{u as T,j as h}from"./styled-components.browser.esm-D-tNovVo.js";import{I as M}from"./Input-B7v42UpU.js";import{I as L}from"./InputField-CkMC-4y9.js";import{r as d,a as ce}from"./index-CsdIBAqE.js";import{C as de,P as he}from"./card-CBUKYh21.js";import{a as v,C as pe}from"./CardPreview-B_QCbqRg.js";import{D as fe}from"./Dropdown-DmrP6Hv2.js";import{D as me}from"./DropdownField-CtnFmETs.js";const ge=T.div`
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 60px;
  height: 100vh;
`,ve=T.section`
  margin-top: 50px;
  overflow: auto;
  height: calc(100vh - 310px);
`;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}var I;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(I||(I={}));function Ee(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:r,v5Compat:n=!1}=e,a;a=t.map((f,m)=>c(f,typeof f=="string"?null:f.state,m===0?"default":void 0));let o=l(r??a.length-1),s=I.Pop,i=null;function l(f){return Math.min(Math.max(f,0),a.length-1)}function u(){return a[o]}function c(f,m,E){m===void 0&&(m=null);let y=ye(a?u().pathname:"/",f,m,E);return Ce(y.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(f)),y}function p(f){return typeof f=="string"?f:Ie(f)}return{get index(){return o},get action(){return s},get location(){return u()},createHref:p,createURL(f){return new URL(p(f),"http://localhost")},encodeLocation(f){let m=typeof f=="string"?b(f):f;return{pathname:m.pathname||"",search:m.search||"",hash:m.hash||""}},push(f,m){s=I.Push;let E=c(f,m);o+=1,a.splice(o,a.length,E),n&&i&&i({action:s,location:E,delta:1})},replace(f,m){s=I.Replace;let E=c(f,m);a[o]=E,n&&i&&i({action:s,location:E,delta:0})},go(f){s=I.Pop;let m=l(o+f),E=a[m];o=m,i&&i({action:s,location:E,delta:f})},listen(f){return i=f,()=>{i=null}}}}function C(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ce(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xe(){return Math.random().toString(36).substr(2,8)}function ye(e,t,r,n){return r===void 0&&(r=null),w({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?b(t):t,{state:r,key:t&&t.key||n||xe()})}function Ie(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function b(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var F;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(F||(F={}));function Re(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Te(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?b(e):e;return{pathname:r?r.startsWith("/")?r:Me(r,t):t,search:_e(n),hash:we(a)}}function Me(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function j(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ne(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Le(e,t){let r=Ne(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function be(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=b(e):(a=w({},e),C(!a.pathname||!a.pathname.includes("?"),j("?","pathname","search",a)),C(!a.pathname||!a.pathname.includes("#"),j("#","pathname","hash",a)),C(!a.search||!a.search.includes("#"),j("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=r;else{let p=t.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}i=p>=0?t[p]:"/"}let l=Te(a,i),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ve=e=>e.join("/").replace(/\/\/+/g,"/"),_e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,we=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Y=["post","put","patch","delete"];new Set(Y);const Se=["get",...Y];new Set(Se);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}const J=d.createContext(null),B=d.createContext(null),P=d.createContext(null),D=d.createContext({outlet:null,matches:[],isDataRoute:!1});function O(){return d.useContext(P)!=null}function je(){return O()||C(!1),d.useContext(P).location}function z(e){d.useContext(B).static||d.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=d.useContext(D);return e?Fe():Pe()}function Pe(){O()||C(!1);let e=d.useContext(J),{basename:t,future:r,navigator:n}=d.useContext(B),{matches:a}=d.useContext(D),{pathname:o}=je(),s=JSON.stringify(Le(a,r.v7_relativeSplatPath)),i=d.useRef(!1);return z(()=>{i.current=!0}),d.useCallback(function(u,c){if(c===void 0&&(c={}),!i.current)return;if(typeof u=="number"){n.go(u);return}let p=be(u,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ve([t,p.pathname])),(c.replace?n.replace:n.push)(p,c.state,c)},[t,n,s,o,e])}var k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k||{}),Z=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Z||{});function De(e){let t=d.useContext(J);return t||C(!1),t}function Oe(e){let t=d.useContext(D);return t||C(!1),t}function Ae(e){let t=Oe(),r=t.matches[t.matches.length-1];return r.route.id||C(!1),r.route.id}function Fe(){let{router:e}=De(k.UseNavigateStable),t=Ae(Z.UseNavigateStable),r=d.useRef(!1);return z(()=>{r.current=!0}),d.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,S({fromRouteId:t},o)))},[e,t])}const He="startTransition",H=ce[He];function Ue(e){let{basename:t,children:r,initialEntries:n,initialIndex:a,future:o}=e,s=d.useRef();s.current==null&&(s.current=Ee({initialEntries:n,initialIndex:a,v5Compat:!0}));let i=s.current,[l,u]=d.useState({action:i.action,location:i.location}),{v7_startTransition:c}=o||{},p=d.useCallback(g=>{c&&H?H(()=>u(g)):u(g)},[u,c]);return d.useLayoutEffect(()=>i.listen(p),[i,p]),d.createElement(qe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:o})}function qe(e){let{basename:t="/",children:r=null,location:n,navigationType:a=I.Pop,navigator:o,static:s=!1,future:i}=e;O()&&C(!1);let l=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:l,navigator:o,static:s,future:S({v7_relativeSplatPath:!1},i)}),[l,i,o,s]);typeof n=="string"&&(n=b(n));let{pathname:c="/",search:p="",hash:g="",state:f=null,key:m="default"}=n,E=d.useMemo(()=>{let y=Re(c,l);return y==null?null:{location:{pathname:y,search:p,hash:g,state:f,key:m},navigationType:a}},[l,c,p,g,f,m,a]);return E==null?null:d.createElement(B.Provider,{value:u},d.createElement(P.Provider,{children:r,value:E}))}new Promise(()=>{});const Ge=480,N=T.div`
  height: 44px;
`,R=T.p`
  color: red;
  font-size: 12px;
  margin-top: 8px;
`;T.div`
  width: ${Ge}px;
  height: 100vh;
  margin: 0 auto;
`;const Q=({value:e,handleChange:t,handleBlur:r,handleKeyDown:n,errorInfo:a})=>h.jsxs("div",{children:[h.jsx(L,{title:"카드 소유자 이름 입력을 입력해 주세요",labelText:"소유자 이름",labelFor:"cardholder-name-input",children:h.jsx(M,{id:"cardholder-name-input",isError:a.isError,value:e,onChange:t,onBlur:r,onKeyDown:n,placeholder:"JOHN DOE",width:"100%",maxLength:100,autoFocus:!0})}),h.jsx(N,{children:h.jsx(R,{children:a.errorMessage})})]});Q.__docgenInfo={description:"",methods:[],displayName:"CardholderNameContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},handleKeyDown:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.KeyboardEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},handleBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"ErrorDetail"},description:""}}};const ee=({month:e,year:t})=>h.jsxs("div",{children:[h.jsxs(L,{title:"카드 유효기간을 입력해 주세요",subtitle:"월/년도(MMYY)를 순서대로 입력해 주세요.",labelText:"유효기간",labelFor:"card-expiry-month-input",children:[h.jsx(M,{id:"card-expiry-month-input",isError:e.errorInfo.isError,value:e.value,onChange:e.handleChange,onBlur:e.updateErrorMessage,placeholder:"MM",maxLength:2,width:"48%",autoFocus:!0,ref:e.inputRef}),h.jsx(M,{id:"card-expiry-year-input",isError:t.errorInfo.isError,value:t.value,onChange:t.handleChange,onBlur:t.updateErrorMessage,placeholder:"YY",maxLength:2,width:"48%"})]}),h.jsxs(N,{children:[h.jsx(R,{children:e.errorInfo.errorMessage}),h.jsx(R,{children:t.errorInfo.errorMessage})]})]});ee.__docgenInfo={description:"",methods:[],displayName:"CardExpiryDateContainer",props:{month:{required:!0,tsType:{name:"ExpiryDateInfo"},description:""},year:{required:!0,tsType:{name:"ExpiryDateInfo"},description:""}}};function te({cardNumbers:e,handleChange:t,errorInfo:r,handleBlur:n,inputRefs:a}){const o=d.useMemo(()=>{const i=Object.values(r).find(l=>l.isError);return i?i.errorMessage:""},[r]);return h.jsxs(Xe,{children:[h.jsx(L,{title:"결제할 카드 번호를 입력해 주세요",subtitle:"본인 명의의 카드만 결제 가능합니다.",labelText:"카드 번호",labelFor:"first-card-numbers-input",children:de.map((s,i)=>{const l=he.includes(s)?"password":"text";return h.jsx(M,{id:`${s}-card-numbers-input`,isError:r[s].isError,value:e[s],onChange:u=>t(u,s),onBlur:()=>n(s),placeholder:"1234",maxLength:4,type:l,width:"23%",ref:a[s],autoFocus:i===0&&!0},s)})}),h.jsx(N,{children:h.jsx(R,{children:o})})]})}const Xe=T.div`
  margin-bottom: 80px;
`;te.__docgenInfo={description:"",methods:[],displayName:"CardNumberContainer",props:{cardNumbers:{required:!0,tsType:{name:"Record",elements:[{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},{name:"string"}],raw:"Record<CardNumberKey, string>"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>, name: string) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"},{type:{name:"string"},name:"name"}],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"Record",elements:[{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},{name:"ErrorDetail"}],raw:"Record<CardNumberKey, ErrorDetail>"},description:""},handleBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"(targetKey: CardNumberKey) => void",signature:{arguments:[{type:{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},name:"targetKey"}],return:{name:"void"}}},description:""},inputRefs:{required:!0,tsType:{name:"Record",elements:[{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},{name:"ReactRefObject",raw:"React.RefObject<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]}],raw:"Record<CardNumberKey, React.RefObject<HTMLInputElement>>"},description:""}}};const re=({value:e,handleSelect:t,errorInfo:r})=>h.jsxs("div",{children:[h.jsx(me,{title:"카드사를 선택해 주세요",subtitle:"현재 국내 카드사만 가능합니다.",children:h.jsx(fe,{value:e,handleSelect:t})}),h.jsx(N,{children:r&&h.jsx(R,{children:r.errorMessage})})]});re.__docgenInfo={description:"",methods:[],displayName:"CardCompanyContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLLIElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLLIElement>",elements:[{name:"HTMLLIElement"}]},name:"e"}],return:{name:"void"}}},description:""},errorInfo:{required:!1,tsType:{name:"ErrorDetail"},description:""}}};const ne=({value:e,handleChange:t,handleBlur:r,errorInfo:n,setIsCardFront:a})=>h.jsxs("div",{children:[h.jsx(L,{title:"CVC 번호를 입력해 주세요",labelText:"CVC",labelFor:"cvc-input",children:h.jsx(M,{id:"cvc-input",isError:n.isError,value:e,onChange:t,onBlur:r,onFocus:()=>a(!1),placeholder:"123",width:"100%",maxLength:4,autoFocus:!0})}),h.jsx(N,{children:h.jsx(R,{children:n.errorMessage})})]});ne.__docgenInfo={description:"",methods:[],displayName:"CardCVCContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},handleBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"ErrorDetail"},description:""},setIsCardFront:{required:!0,tsType:{name:"ReactDispatch",raw:"React.Dispatch<React.SetStateAction<boolean>>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<boolean>",elements:[{name:"boolean"}]}]},description:""}}};const ae=({value:e,handleChange:t,updateErrorMessage:r,errorInfo:n})=>h.jsxs("div",{children:[h.jsx(L,{title:"비밀번호를 입력해 주세요",subtitle:"앞의 2자리를 입력해주세요",labelText:"비밀번호 앞 2자리",labelFor:"card-password-input",children:h.jsx(M,{id:"card-password-input",isError:n.isError,value:e,onChange:t,onBlur:r,width:"100%",maxLength:2,type:"password",placeholder:"••",autoFocus:!0})}),h.jsx(N,{children:h.jsx(R,{children:n.errorMessage})})]});ae.__docgenInfo={description:"",methods:[],displayName:"CardPasswordContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},updateErrorMessage:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"ErrorDetail"},description:""}}};const se=({onClick:e,children:t})=>h.jsx(We,{onClick:e,children:t}),We=T.button`
  position: absolute;
  width: 100%;
  height: 52px;
  background-color: #333333;
  color: #f3f3f3;
  font-weight: 700;
  font-size: 16px;
  bottom: 0;
  transition: background-color 0.2s ease-in;

  &:hover {
    background-color: lightgray;
  }
`;se.__docgenInfo={description:"",methods:[],displayName:"SubmitButton",props:{onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const oe={isError:!1,errorMessage:""},Ke=(e,t)=>{const[r,n]=d.useState(oe);return{errorInfo:r,setErrorInfo:n,updateErrorMessage:()=>{const o=t.onBlur(e);return n({...o}),o}}},V=(e="",t)=>{const[r,n]=d.useState(e),{errorInfo:a,setErrorInfo:o,updateErrorMessage:s}=Ke(r,t);return{value:r,setValue:n,handleChange:l=>{const u=t.onChange(l.target.value);o({...u}),!u.isError&&n(l.target.value)},errorInfo:a,setErrorInfo:o,updateErrorMessage:s}},U=e=>{const t=e.length===v.TEXT_LENGTH_MIN||e.length===v.DATE_LENGTH_MAX,r=/^(0[1-9]|1[0-2])$/.test(e);return t?r?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"월(月) : 01월부터 12월 중 하나로 입력해주세요"}:{isError:!0,errorMessage:`월(月) : ${v.DATE_LENGTH_MAX}자리로 입력해주세요`}},x=e=>isNaN(Number(e))?{isError:!0,errorMessage:"숫자를 입력해주세요"}:{isError:!1,errorMessage:""},$e=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=V("",{onChange:x,onBlur:U}),o=d.useRef(null),s=l=>{var c,p;const u=x(l.target.value);if(l.target.value.length===l.target.maxLength&&!u.isError){if(i(l.target.value).isError)return;(c=o.current)!=null&&c.nextSibling&&((p=o.current)==null?void 0:p.nextSibling).focus()}n({...u}),!u.isError&&t(l.target.value)},i=l=>{const u=U(l);return n({...u}),t(l),u};return{value:e,handleChange:s,errorInfo:r,updateErrorMessage:a,inputRef:o}},q=e=>{const t=e.length===v.TEXT_LENGTH_MIN||e.length===v.DATE_LENGTH_MAX,r=Number(e)>23&&Number(e)<41;return t?r?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"년도(年) : 24년도부터 40년도 중 하나로 입력해주세요"}:{isError:!0,errorMessage:`년도(年) : ${v.DATE_LENGTH_MAX}자리로 입력해주세요`}},Ye=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=V("",{onChange:x,onBlur:q}),o=i=>{const l=x(i.target.value);i.target.value.length===i.target.maxLength&&!l.isError&&s(i.target.value).isError||(n({...l}),!l.isError&&t(i.target.value))},s=i=>{const l=q(i);return n({...l}),t(i),l};return{value:e,handleChange:o,errorInfo:r,updateErrorMessage:a}},G=e=>/^$|^[a-zA-Z ]+$/.test(e)?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"카드 소유자 이름을 영어로만 입력해주세요"},Je=e=>/^(?!\s)(?!.*\s\s)(?!.*\s$)/.test(e)?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"양 끝에 공백이 포함되면 안 되며, 사이 공백의 길이는 최대 1입니다."},ze=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=V("",{onChange:G,onBlur:Je}),[o,s]=d.useState(!1);return{value:e,handleChange:c=>{const p=G(c.target.value);n({...p}),!p.isError&&t(c.target.value.toUpperCase())},errorInfo:r,handleBlur:()=>{a().isError||s(!0)},isEnter:o,handleKeyDown:c=>{if(c.key==="Enter"){if(a().isError)return;s(!0)}}}},ke=e=>{const[t,r]=d.useState(e);return{value:t,handleSelect:a=>{const o=a.target;if(!o.dataset.value)return;const s=o.dataset.value;r(s)}}},Ze=e=>e.length===v.TEXT_LENGTH_MIN||e.length===v.CVC_LENGTH_MIN||e.length===v.CVC_LENGTH_MAX?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"cvc는 3자리 또는 4자리로 입력해주세요"},Qe=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=V("",{onChange:x,onBlur:Ze}),[o,s]=d.useState(!0);return{value:e,handleChange:u=>{const c=x(u.target.value);n({...c}),!c.isError&&t(u.target.value)},errorInfo:r,handleBlur:()=>{a(),s(!0)},isCardFront:o,setIsCardFront:s}},et=e=>{const t=e.length===v.TEXT_LENGTH_MIN||e.length===v.CARD_NUMBER_LENGTH_MAX,r=/^\d{4}$/.test(e);return t?r?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"카드 번호는 0000 ~ 9999 사이의 숫자로 입력해주세요"}:{isError:!0,errorMessage:`카드 번호는 ${v.CARD_NUMBER_LENGTH_MAX}자리로 입력해주세요`}},tt=(e,t)=>{const r={};return e.forEach(n=>{r[n]=t}),r},rt=(e,t)=>{const r=tt(Object.keys(e),oe),[n,a]=d.useState(e),[o,s]=d.useState(r);return{value:n,setValue:a,handleChange:(u,c)=>{const p=t.onChange(u.target.value);s({...o,[c]:{...p}}),!p.isError&&a({...n,[c]:u.target.value})},handleBlur:u=>{if(t){const c=t.onBlur(n[u]);s({...o,[u]:{...c}})}},errorInfo:o,setErrorInfo:s}},nt={first:"",second:"",third:"",fourth:""},X={first:"second",second:"third",third:"fourth"},at=()=>{const{value:e,setValue:t,handleBlur:r,errorInfo:n,setErrorInfo:a}=rt(nt,{onChange:x,onBlur:et}),o={first:d.useRef(null),second:d.useRef(null),third:d.useRef(null),fourth:d.useRef(null)};return{value:e,handleChange:(i,l)=>{var c;const u=x(i.target.value);if(i.target.value.length===i.target.maxLength&&!u.isError){const p=l;X[p]&&((c=o[X[p]].current)==null||c.focus())}a({...n,[l]:{...u}}),!u.isError&&t({...e,[l]:i.target.value})},handleBlur:r,errorInfo:n,inputRefs:o}},st=e=>e.length===v.TEXT_LENGTH_MIN||e.length===v.PASSWORD_LENGTH_MAX?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:`비밀번호는 ${v.PASSWORD_LENGTH_MAX}자리로 입력해주세요`},ot=()=>V("",{onChange:x,onBlur:st}),it=()=>{const e=at(),t=$e(),r=Ye(),n=ze(),a=ke(""),o=ot(),s=Qe();return{cardNumberInfo:e,cardCompanyInfo:a,expiryDateInfo:{month:t,year:r},cardholderNameInfo:n,cardCVCInfo:s,cardPasswordInfo:o}},lt=e=>{const{first:t,second:r,third:n,fourth:a}=e.errorInfo,{first:o,second:s,third:i,fourth:l}=e.value,u=!!o&&!t.isError,c=!!s&&!r.isError,p=!!i&&!n.isError,g=!!l&&!a.isError;return o.length+s.length+i.length+l.length===v.TOTAL_CARD_NUMBER_LENGTH&&u&&c&&p&&g},ut=e=>e.value.length>v.TEXT_LENGTH_MIN,ct=e=>{const{month:t,year:r}=e,n=!!t.value&&!t.errorInfo.isError,a=!!r.value&&!r.errorInfo.isError;return t.value.length+r.value.length===v.TOTAL_DATE_LENGTH&&n&&a},dt=e=>e.isEnter&&!!e.value,ht=e=>{const t=!!e.value&&!e.errorInfo.isError;return e.value.length>=v.CVC_LENGTH_MIN&&t},pt=e=>{const t=!!e.value&&!e.errorInfo.isError;return e.value.length===v.PASSWORD_LENGTH_MAX&&t},ft=e=>{const t=lt(e),r=d.useRef(!1);return t&&!r.current&&(r.current=!0),{isValid:t,hasOpened:r.current}},mt=e=>{const t=ut(e),r=d.useRef(!1);return t&&!r.current&&(r.current=!0),{isValid:t,hasOpened:r.current}},gt=e=>{const t=dt(e),r=d.useRef(!1);return t&&!r.current&&(r.current=!0),{isValid:t,hasOpened:r.current}},vt=e=>{const t=ct(e),r=d.useRef(!1);return t&&!r.current&&(r.current=!0),{isValid:t,hasOpened:r.current}},Et=e=>{const t=ht(e),r=d.useRef(!1);return t&&!r.current&&(r.current=!0),{isValid:t,hasOpened:r.current}},Ct=e=>{const t=pt(e),r=d.useRef(!1);return t&&!r.current&&(r.current=!0),{isValid:t,hasOpened:r.current}},xt=({cardNumberInfo:e,cardCompanyInfo:t,expiryDateInfo:r,cardholderNameInfo:n,cardCVCInfo:a,cardPasswordInfo:o})=>{const s=ft(e),i=mt(t),l=vt(r),u=gt(n),c=Et(a),p=Ct(o),g={cardNumber:s,cardCompany:i,expiryDate:l,cardholderName:u,cvc:c,password:p},f=s.isValid&&i.isValid&&l.isValid&&u.isValid&&c.isValid&&p.isValid;return{validationStatus:g,isCardFormValid:f}},ie=()=>{const e=Be(),t=()=>{e("/react-payments/complete",{state:{cardNumber:s.value.first,cardCompany:i.value}})},r=it(),{validationStatus:n,isCardFormValid:a}=xt(r),{...o}=n,{cardNumberInfo:s,cardCompanyInfo:i,expiryDateInfo:l,cardholderNameInfo:u,cardCVCInfo:c,cardPasswordInfo:p}=r,g=A=>o[A].isValid||o[A].hasOpened,f=g("cvc"),m=g("cardholderName"),E=g("expiryDate"),y=g("cardCompany"),le=g("cardNumber"),ue={cardNumbers:s.value,expiryDate:{month:l.month.value,year:l.year.value},cardholderName:u.value,cardType:i.value,cvc:c.value,isCardFront:c.isCardFront,setIsCardFront:c.setIsCardFront};return h.jsxs(ge,{children:[h.jsx(pe,{...ue}),h.jsxs(ve,{children:[f&&h.jsx(ae,{...p}),m&&h.jsx(ne,{...c}),E&&h.jsx(Q,{...u}),y&&h.jsx(ee,{...l}),le&&h.jsx(re,{...i}),h.jsx(te,{cardNumbers:s.value,...s})]}),a&&h.jsx(se,{onClick:t,children:"확인"})]})};ie.__docgenInfo={description:"",methods:[],displayName:"CardRegisterPage"};const Vt={title:"CardRegisterPage",component:ie,decorators:[e=>h.jsx(Ue,{children:h.jsx(e,{})})]},_={};var W,K,$;_.parameters={..._.parameters,docs:{...(W=_.parameters)==null?void 0:W.docs,source:{originalSource:"{}",...($=(K=_.parameters)==null?void 0:K.docs)==null?void 0:$.source}}};const _t=["Default"];export{_ as Default,_t as __namedExportsOrder,Vt as default};
