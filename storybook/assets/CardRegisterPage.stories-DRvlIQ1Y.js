import{u as T,j as h}from"./styled-components.browser.esm-D-tNovVo.js";import{I as M}from"./Input-B7v42UpU.js";import{I as L}from"./InputField-CkMC-4y9.js";import{r as u,a as ce}from"./index-CsdIBAqE.js";import{C as de,P as he}from"./card-CBUKYh21.js";import{a as v,C as me}from"./CardPreview-B_QCbqRg.js";import{D as pe}from"./Dropdown-DmrP6Hv2.js";import{D as fe}from"./DropdownField-CtnFmETs.js";const ge=T.div`
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 60px;
  height: 100vh;
`,ve=T.section`
  margin-top: 50px;
  overflow: auto;
  height: calc(100vh - 310px);
`;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}var I;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(I||(I={}));function Ee(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:r,v5Compat:n=!1}=e,a;a=t.map((p,f)=>d(p,typeof p=="string"?null:p.state,f===0?"default":void 0));let o=l(r??a.length-1),s=I.Pop,i=null;function l(p){return Math.min(Math.max(p,0),a.length-1)}function c(){return a[o]}function d(p,f,E){f===void 0&&(f=null);let y=ye(a?c().pathname:"/",p,f,E);return Ce(y.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(p)),y}function m(p){return typeof p=="string"?p:Ie(p)}return{get index(){return o},get action(){return s},get location(){return c()},createHref:m,createURL(p){return new URL(m(p),"http://localhost")},encodeLocation(p){let f=typeof p=="string"?S(p):p;return{pathname:f.pathname||"",search:f.search||"",hash:f.hash||""}},push(p,f){s=I.Push;let E=d(p,f);o+=1,a.splice(o,a.length,E),n&&i&&i({action:s,location:E,delta:1})},replace(p,f){s=I.Replace;let E=d(p,f);a[o]=E,n&&i&&i({action:s,location:E,delta:0})},go(p){s=I.Pop;let f=l(o+p),E=a[f];o=f,i&&i({action:s,location:E,delta:p})},listen(p){return i=p,()=>{i=null}}}}function C(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ce(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xe(){return Math.random().toString(36).substr(2,8)}function ye(e,t,r,n){return r===void 0&&(r=null),w({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?S(t):t,{state:r,key:t&&t.key||n||xe()})}function Ie(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function S(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var A;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A||(A={}));function Ne(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Te(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?S(e):e;return{pathname:r?r.startsWith("/")?r:Me(r,t):t,search:be(n),hash:we(a)}}function Me(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function j(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Re(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Le(e,t){let r=Re(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Se(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=S(e):(a=w({},e),C(!a.pathname||!a.pathname.includes("?"),j("?","pathname","search",a)),C(!a.pathname||!a.pathname.includes("#"),j("#","pathname","hash",a)),C(!a.search||!a.search.includes("#"),j("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=r;else{let m=t.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}i=m>=0?t[m]:"/"}let l=Te(a,i),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ve=e=>e.join("/").replace(/\/\/+/g,"/"),be=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,we=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Y=["post","put","patch","delete"];new Set(Y);const _e=["get",...Y];new Set(_e);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}const J=u.createContext(null),B=u.createContext(null),O=u.createContext(null),P=u.createContext({outlet:null,matches:[],isDataRoute:!1});function D(){return u.useContext(O)!=null}function je(){return D()||C(!1),u.useContext(O).location}function z(e){u.useContext(B).static||u.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=u.useContext(P);return e?Ae():Oe()}function Oe(){D()||C(!1);let e=u.useContext(J),{basename:t,future:r,navigator:n}=u.useContext(B),{matches:a}=u.useContext(P),{pathname:o}=je(),s=JSON.stringify(Le(a,r.v7_relativeSplatPath)),i=u.useRef(!1);return z(()=>{i.current=!0}),u.useCallback(function(c,d){if(d===void 0&&(d={}),!i.current)return;if(typeof c=="number"){n.go(c);return}let m=Se(c,JSON.parse(s),o,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ve([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,s,o,e])}var k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k||{}),Z=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Z||{});function Pe(e){let t=u.useContext(J);return t||C(!1),t}function De(e){let t=u.useContext(P);return t||C(!1),t}function Fe(e){let t=De(),r=t.matches[t.matches.length-1];return r.route.id||C(!1),r.route.id}function Ae(){let{router:e}=Pe(k.UseNavigateStable),t=Fe(Z.UseNavigateStable),r=u.useRef(!1);return z(()=>{r.current=!0}),u.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_({fromRouteId:t},o)))},[e,t])}const He="startTransition",H=ce[He];function Ue(e){let{basename:t,children:r,initialEntries:n,initialIndex:a,future:o}=e,s=u.useRef();s.current==null&&(s.current=Ee({initialEntries:n,initialIndex:a,v5Compat:!0}));let i=s.current,[l,c]=u.useState({action:i.action,location:i.location}),{v7_startTransition:d}=o||{},m=u.useCallback(g=>{d&&H?H(()=>c(g)):c(g)},[c,d]);return u.useLayoutEffect(()=>i.listen(m),[i,m]),u.createElement(qe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:o})}function qe(e){let{basename:t="/",children:r=null,location:n,navigationType:a=I.Pop,navigator:o,static:s=!1,future:i}=e;D()&&C(!1);let l=t.replace(/^\/*/,"/"),c=u.useMemo(()=>({basename:l,navigator:o,static:s,future:_({v7_relativeSplatPath:!1},i)}),[l,i,o,s]);typeof n=="string"&&(n=S(n));let{pathname:d="/",search:m="",hash:g="",state:p=null,key:f="default"}=n,E=u.useMemo(()=>{let y=Ne(d,l);return y==null?null:{location:{pathname:y,search:m,hash:g,state:p,key:f},navigationType:a}},[l,d,m,g,p,f,a]);return E==null?null:u.createElement(B.Provider,{value:c},u.createElement(O.Provider,{children:r,value:E}))}new Promise(()=>{});const Ge=480,R=T.div`
  height: 44px;
`,N=T.p`
  color: red;
  font-size: 12px;
  margin-top: 8px;
`;T.div`
  width: ${Ge}px;
  height: 100vh;
  margin: 0 auto;
`;const Q=({value:e,handleChange:t,handleBlur:r,handleKeyDown:n,errorInfo:a})=>h.jsxs("div",{children:[h.jsx(L,{title:"카드 소유자 이름 입력을 입력해 주세요",labelText:"소유자 이름",labelFor:"cardholder-name-input",children:h.jsx(M,{id:"cardholder-name-input",isError:a.isError,value:e,onChange:t,onBlur:r,onKeyDown:n,placeholder:"JOHN DOE",width:"100%",maxLength:100,autoFocus:!0})}),h.jsx(R,{children:h.jsx(N,{children:a.errorMessage})})]});Q.__docgenInfo={description:"",methods:[],displayName:"CardholderNameContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},handleKeyDown:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.KeyboardEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},handleBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"ErrorDetail"},description:""}}};const ee=({month:e,year:t})=>h.jsxs("div",{children:[h.jsxs(L,{title:"카드 유효기간을 입력해 주세요",subtitle:"월/년도(MMYY)를 순서대로 입력해 주세요.",labelText:"유효기간",labelFor:"card-expiry-month-input",children:[h.jsx(M,{id:"card-expiry-month-input",isError:e.errorInfo.isError,value:e.value,onChange:e.handleChange,onBlur:e.updateErrorMessage,placeholder:"MM",maxLength:2,width:"48%",autoFocus:!0,ref:e.inputRef}),h.jsx(M,{id:"card-expiry-year-input",isError:t.errorInfo.isError,value:t.value,onChange:t.handleChange,onBlur:t.updateErrorMessage,placeholder:"YY",maxLength:2,width:"48%"})]}),h.jsxs(R,{children:[h.jsx(N,{children:e.errorInfo.errorMessage}),h.jsx(N,{children:t.errorInfo.errorMessage})]})]});ee.__docgenInfo={description:"",methods:[],displayName:"CardExpiryDateContainer",props:{month:{required:!0,tsType:{name:"ExpiryDateInfo"},description:""},year:{required:!0,tsType:{name:"ExpiryDateInfo"},description:""}}};function te({cardNumbers:e,handleChange:t,errorInfo:r,handleBlur:n,inputRefs:a}){const o=u.useMemo(()=>{const i=Object.values(r).find(l=>l.isError);return i?i.errorMessage:""},[r]);return h.jsxs(Xe,{children:[h.jsx(L,{title:"결제할 카드 번호를 입력해 주세요",subtitle:"본인 명의의 카드만 결제 가능합니다.",labelText:"카드 번호",labelFor:"first-card-numbers-input",children:de.map((s,i)=>{const l=he.includes(s)?"password":"text";return h.jsx(M,{id:`${s}-card-numbers-input`,isError:r[s].isError,value:e[s],onChange:c=>t(c,s),onBlur:()=>n(s),placeholder:"1234",maxLength:4,type:l,width:"23%",ref:a[s],autoFocus:i===0&&!0},s)})}),h.jsx(R,{children:h.jsx(N,{children:o})})]})}const Xe=T.div`
  margin-bottom: 80px;
`;te.__docgenInfo={description:"",methods:[],displayName:"CardNumberContainer",props:{cardNumbers:{required:!0,tsType:{name:"Record",elements:[{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},{name:"string"}],raw:"Record<CardNumberKey, string>"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>, name: string) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"},{type:{name:"string"},name:"name"}],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"Record",elements:[{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},{name:"ErrorDetail"}],raw:"Record<CardNumberKey, ErrorDetail>"},description:""},handleBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"(targetKey: CardNumberKey) => void",signature:{arguments:[{type:{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},name:"targetKey"}],return:{name:"void"}}},description:""},inputRefs:{required:!0,tsType:{name:"Record",elements:[{name:"union",raw:"'first' | 'second' | 'third' | 'fourth'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'second'"},{name:"literal",value:"'third'"},{name:"literal",value:"'fourth'"}]},{name:"ReactRefObject",raw:"React.RefObject<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]}],raw:"Record<CardNumberKey, React.RefObject<HTMLInputElement>>"},description:""}}};const re=({value:e,handleSelect:t,errorInfo:r})=>h.jsxs("div",{children:[h.jsx(fe,{title:"카드사를 선택해 주세요",subtitle:"현재 국내 카드사만 가능합니다.",children:h.jsx(pe,{value:e,handleSelect:t})}),h.jsx(R,{children:r&&h.jsx(N,{children:r.errorMessage})})]});re.__docgenInfo={description:"",methods:[],displayName:"CardCompanyContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLLIElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLLIElement>",elements:[{name:"HTMLLIElement"}]},name:"e"}],return:{name:"void"}}},description:""},errorInfo:{required:!1,tsType:{name:"ErrorDetail"},description:""}}};const ne=({value:e,handleChange:t,handleBlur:r,errorInfo:n,setIsCardFront:a})=>h.jsxs("div",{children:[h.jsx(L,{title:"CVC 번호를 입력해 주세요",labelText:"CVC",labelFor:"cvc-input",children:h.jsx(M,{id:"cvc-input",isError:n.isError,value:e,onChange:t,onBlur:r,onFocus:()=>a(!1),placeholder:"123",width:"100%",maxLength:4,autoFocus:!0})}),h.jsx(R,{children:h.jsx(N,{children:n.errorMessage})})]});ne.__docgenInfo={description:"",methods:[],displayName:"CardCVCContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},handleBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"ErrorDetail"},description:""},setIsCardFront:{required:!0,tsType:{name:"ReactDispatch",raw:"React.Dispatch<React.SetStateAction<boolean>>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<boolean>",elements:[{name:"boolean"}]}]},description:""}}};const ae=({value:e,handleChange:t,updateErrorMessage:r,errorInfo:n})=>h.jsxs("div",{children:[h.jsx(L,{title:"비밀번호를 입력해 주세요",subtitle:"앞의 2자리를 입력해주세요",labelText:"비밀번호 앞 2자리",labelFor:"card-password-input",children:h.jsx(M,{id:"card-password-input",isError:n.isError,value:e,onChange:t,onBlur:r,width:"100%",maxLength:2,type:"password",placeholder:"••",autoFocus:!0})}),h.jsx(R,{children:h.jsx(N,{children:n.errorMessage})})]});ae.__docgenInfo={description:"",methods:[],displayName:"CardPasswordContainer",props:{value:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},updateErrorMessage:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},errorInfo:{required:!0,tsType:{name:"ErrorDetail"},description:""}}};const se=({onClick:e,children:t})=>h.jsx(We,{onClick:e,children:t}),We=T.button`
  position: absolute;
  width: 100%;
  height: 52px;
  background-color: #333333;
  color: #f3f3f3;
  font-weight: 700;
  font-size: 16px;
  bottom: 0;
  transition: background-color 0.2s ease-in;

  &:hover {
    background-color: lightgray;
  }
`;se.__docgenInfo={description:"",methods:[],displayName:"SubmitButton",props:{onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const oe={isError:!1,errorMessage:""},Ke=(e,t)=>{const[r,n]=u.useState(oe);return{errorInfo:r,setErrorInfo:n,updateErrorMessage:()=>{const o=t.onBlur(e);return n({...o}),o}}},V=(e="",t)=>{const[r,n]=u.useState(e),{errorInfo:a,setErrorInfo:o,updateErrorMessage:s}=Ke(r,t);return{value:r,setValue:n,handleChange:l=>{const c=t.onChange(l.target.value);o({...c}),!c.isError&&n(l.target.value)},errorInfo:a,setErrorInfo:o,updateErrorMessage:s}},U=e=>{const t=e.length===v.TEXT_LENGTH_MIN||e.length===v.DATE_LENGTH_MAX,r=/^(0[1-9]|1[0-2])$/.test(e);return t?r?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"월(月) : 01월부터 12월 중 하나로 입력해주세요"}:{isError:!0,errorMessage:`월(月) : ${v.DATE_LENGTH_MAX}자리로 입력해주세요`}},x=e=>isNaN(Number(e))?{isError:!0,errorMessage:"숫자를 입력해주세요"}:{isError:!1,errorMessage:""},$e=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=V("",{onChange:x,onBlur:U}),o=u.useRef(null),s=l=>{var d,m;const c=x(l.target.value);if(l.target.value.length===l.target.maxLength&&!c.isError){if(i(l.target.value).isError)return;(d=o.current)!=null&&d.nextSibling&&((m=o.current)==null?void 0:m.nextSibling).focus()}n({...c}),!c.isError&&t(l.target.value)},i=l=>{const c=U(l);return n({...c}),t(l),c};return{value:e,handleChange:s,errorInfo:r,updateErrorMessage:a,inputRef:o}},q=e=>{const t=e.length===v.TEXT_LENGTH_MIN||e.length===v.DATE_LENGTH_MAX,r=Number(e)>23&&Number(e)<41;return t?r?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"년도(年) : 24년도부터 40년도 중 하나로 입력해주세요"}:{isError:!0,errorMessage:`년도(年) : ${v.DATE_LENGTH_MAX}자리로 입력해주세요`}},Ye=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=V("",{onChange:x,onBlur:q}),o=i=>{const l=x(i.target.value);i.target.value.length===i.target.maxLength&&!l.isError&&s(i.target.value).isError||(n({...l}),!l.isError&&t(i.target.value))},s=i=>{const l=q(i);return n({...l}),t(i),l};return{value:e,handleChange:o,errorInfo:r,updateErrorMessage:a}},G=e=>/^$|^[a-zA-Z ]+$/.test(e)?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"카드 소유자 이름을 영어로만 입력해주세요"},Je=e=>/^(?!\s)(?!.*\s\s)(?!.*\s$)/.test(e)?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"양 끝에 공백이 포함되면 안 되며, 사이 공백의 길이는 최대 1입니다."},ze=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=V("",{onChange:G,onBlur:Je}),[o,s]=u.useState(!1);return{value:e,handleChange:d=>{const m=G(d.target.value);n({...m}),!m.isError&&t(d.target.value.toUpperCase())},errorInfo:r,handleBlur:()=>{a().isError||s(!0)},isEnter:o,handleKeyDown:d=>{if(d.key==="Enter"){if(a().isError)return;s(!0)}}}},ke=e=>{const[t,r]=u.useState(e);return{value:t,handleSelect:a=>{const o=a.target;if(!o.dataset.value)return;const s=o.dataset.value;r(s)}}},Ze=e=>e.length===v.TEXT_LENGTH_MIN||e.length===v.CVC_LENGTH_MIN||e.length===v.CVC_LENGTH_MAX?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"cvc는 3자리 또는 4자리로 입력해주세요"},Qe=()=>{const{value:e,setValue:t,errorInfo:r,setErrorInfo:n,updateErrorMessage:a}=V("",{onChange:x,onBlur:Ze}),[o,s]=u.useState(!0);return{value:e,handleChange:c=>{const d=x(c.target.value);n({...d}),!d.isError&&t(c.target.value)},errorInfo:r,handleBlur:()=>{a(),s(!0)},isCardFront:o,setIsCardFront:s}},et=e=>{const t=e.length===v.TEXT_LENGTH_MIN||e.length===v.CARD_NUMBER_LENGTH_MAX,r=/^\d{4}$/.test(e);return t?r?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:"카드 번호는 0000 ~ 9999 사이의 숫자로 입력해주세요"}:{isError:!0,errorMessage:`카드 번호는 ${v.CARD_NUMBER_LENGTH_MAX}자리로 입력해주세요`}},tt=(e,t)=>{const r={};return e.forEach(n=>{r[n]=t}),r},rt=(e,t)=>{const r=tt(Object.keys(e),oe),[n,a]=u.useState(e),[o,s]=u.useState(r);return{value:n,setValue:a,handleChange:(c,d)=>{const m=t.onChange(c.target.value);s({...o,[d]:{...m}}),!m.isError&&a({...n,[d]:c.target.value})},handleBlur:c=>{if(t){const d=t.onBlur(n[c]);s({...o,[c]:{...d}})}},errorInfo:o,setErrorInfo:s}},nt={first:"",second:"",third:"",fourth:""},X={first:"second",second:"third",third:"fourth"},at=()=>{const{value:e,setValue:t,handleBlur:r,errorInfo:n,setErrorInfo:a}=rt(nt,{onChange:x,onBlur:et}),o={first:u.useRef(null),second:u.useRef(null),third:u.useRef(null),fourth:u.useRef(null)};return{value:e,handleChange:(i,l)=>{var d;const c=x(i.target.value);if(i.target.value.length===i.target.maxLength&&!c.isError){const m=l;X[m]&&((d=o[X[m]].current)==null||d.focus())}a({...n,[l]:{...c}}),!c.isError&&t({...e,[l]:i.target.value})},handleBlur:r,errorInfo:n,inputRefs:o}},st=e=>e.length===v.TEXT_LENGTH_MIN||e.length===v.PASSWORD_LENGTH_MAX?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:`비밀번호는 ${v.PASSWORD_LENGTH_MAX}자리로 입력해주세요`},ot=()=>V("",{onChange:x,onBlur:st}),it=()=>{const e=at(),t=$e(),r=Ye(),n=ze(),a=ke(""),o=ot(),s=Qe();return{cardNumberInfo:e,cardCompanyInfo:a,expiryDateInfo:{month:t,year:r},cardholderNameInfo:n,cardCVCInfo:s,cardPasswordInfo:o}},lt=e=>{const{first:t,second:r,third:n,fourth:a}=e.errorInfo,{first:o,second:s,third:i,fourth:l}=e.value,c=!!o&&!t.isError,d=!!s&&!r.isError,m=!!i&&!n.isError,g=!!l&&!a.isError;return o.length+s.length+i.length+l.length===v.TOTAL_CARD_NUMBER_LENGTH&&c&&d&&m&&g},ut=e=>e.value.length>v.TEXT_LENGTH_MIN,ct=e=>{const{month:t,year:r}=e,n=!!t.value&&!t.errorInfo.isError,a=!!r.value&&!r.errorInfo.isError;return t.value.length+r.value.length===v.TOTAL_DATE_LENGTH&&n&&a},dt=e=>e.isEnter&&!!e.value,ht=e=>{const t=!!e.value&&!e.errorInfo.isError;return e.value.length>=v.CVC_LENGTH_MIN&&t},mt=e=>{const t=!!e.value&&!e.errorInfo.isError;return e.value.length===v.PASSWORD_LENGTH_MAX&&t},pt=e=>{const t=lt(e),[r,n]=u.useState({isValid:t,hasOpened:!1});return u.useEffect(()=>{n(a=>({...a,isValid:t,hasOpened:t||a.hasOpened}))},[t]),r},ft=e=>{const t=ut(e),[r,n]=u.useState({isValid:t,hasOpened:!1});return u.useEffect(()=>{n(a=>({...a,isValid:t,hasOpened:t||a.hasOpened}))},[t]),r},gt=e=>{const t=dt(e),[r,n]=u.useState({isValid:t,hasOpened:!1});return u.useEffect(()=>{n(a=>({...a,isValid:t,hasOpened:t||a.hasOpened}))},[t]),r},vt=e=>{const t=ct(e),[r,n]=u.useState({isValid:t,hasOpened:!1});return u.useEffect(()=>{n(a=>({...a,isValid:t,hasOpened:t||a.hasOpened}))},[t]),r},Et=e=>{const t=ht(e),[r,n]=u.useState({isValid:t,hasOpened:!1});return u.useEffect(()=>{n(a=>({...a,isValid:t,hasOpened:t||a.hasOpened}))},[t]),r},Ct=e=>{const t=mt(e),[r,n]=u.useState({isValid:t,hasOpened:!1});return u.useEffect(()=>{n(a=>({...a,isValid:t,hasOpened:t||a.hasOpened}))},[t]),r},xt=({cardNumberInfo:e,cardCompanyInfo:t,expiryDateInfo:r,cardholderNameInfo:n,cardCVCInfo:a,cardPasswordInfo:o})=>{const s=pt(e),i=ft(t),l=vt(r),c=gt(n),d=Et(a),m=Ct(o),g={cardNumber:s,cardCompany:i,expiryDate:l,cardholderName:c,cvc:d,password:m},p=s.isValid&&i.isValid&&l.isValid&&c.isValid&&d.isValid&&m.isValid;return{validationStatus:g,isCardFormValid:p}},ie=()=>{const e=Be(),t=()=>{e("/react-payments/complete",{state:{cardNumber:s.value.first,cardCompany:i.value}})},r=it(),{validationStatus:n,isCardFormValid:a}=xt(r),{...o}=n,{cardNumberInfo:s,cardCompanyInfo:i,expiryDateInfo:l,cardholderNameInfo:c,cardCVCInfo:d,cardPasswordInfo:m}=r,g=F=>o[F].isValid||o[F].hasOpened,p=g("cvc"),f=g("cardholderName"),E=g("expiryDate"),y=g("cardCompany"),le=g("cardNumber"),ue={cardNumbers:s.value,expiryDate:{month:l.month.value,year:l.year.value},cardholderName:c.value,cardType:i.value,cvc:d.value,isCardFront:d.isCardFront,setIsCardFront:d.setIsCardFront};return h.jsxs(ge,{children:[h.jsx(me,{...ue}),h.jsxs(ve,{children:[p&&h.jsx(ae,{...m}),f&&h.jsx(ne,{...d}),E&&h.jsx(Q,{...c}),y&&h.jsx(ee,{...l}),le&&h.jsx(re,{...i}),h.jsx(te,{cardNumbers:s.value,...s})]}),a&&h.jsx(se,{onClick:t,children:"확인"})]})};ie.__docgenInfo={description:"",methods:[],displayName:"CardRegisterPage"};const Vt={title:"CardRegisterPage",component:ie,decorators:[e=>h.jsx(Ue,{children:h.jsx(e,{})})]},b={};var W,K,$;b.parameters={...b.parameters,docs:{...(W=b.parameters)==null?void 0:W.docs,source:{originalSource:"{}",...($=(K=b.parameters)==null?void 0:K.docs)==null?void 0:$.source}}};const bt=["Default"];export{b as Default,bt as __namedExportsOrder,Vt as default};
